--- a/net/minecraft/world/item/ItemStack.java
+++ b/net/minecraft/world/item/ItemStack.java
@@ -387,7 +387,7 @@ public final class ItemStack implements DataComponentHolder {
             int oldCount = this.getCount();
             ServerLevel serverLevel = (ServerLevel) context.getLevel();
 
-            if (!(item instanceof BucketItem/* || item instanceof SolidBucketItem*/)) { // if not bucket // Paper - Fix cancelled powdered snow bucket placement
+            if (!(item instanceof BucketItem || item instanceof EndCrystalItem/* || item instanceof SolidBucketItem*/)) { // if not bucket // Paper - Fix cancelled powdered snow bucket placement // Cheetah - Fix capturing blocks on end crystal placement
                 serverLevel.captureBlockStates = true;
                 // special case bonemeal
                 if (item == Items.BONE_MEAL) {
